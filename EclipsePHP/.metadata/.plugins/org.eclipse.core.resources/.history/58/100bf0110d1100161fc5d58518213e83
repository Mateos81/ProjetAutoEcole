<?php
/*
 * Projet 2ème Année 3iL
 * CIULLI - MATEOS - ROUX
 */
 
 /**
  * Classe d'accès aux données.
  */
class DAL {
	
	/**
	 * Ajout d'une entrée à l'historique d'une voiture.
	 * @param HistoKm $histo Nouvelle entrée à ajouter pour l'historique d'un véhicule.
	 */
	public static function addHisto_Km($vehicule_num, HistoKm $histo) {
		$conn = Outils.connexion();
    	
		$stid = oci_parse($conn, 'BEGIN ajoutHistoKm(:id, :nbKm); END;');
		oci_bind_by_name($stid, ':id', $vehicule_num);
		oci_bind_by_name($stid, ':nbKm', $histo->getHistoKm_nbKm());
		
		oci_execute($stid);
		
		print "$r\n";   // prints 24
		
		oci_free_statement($stid);
		
    	Outils.deconnexion_base($conn);
	}
}
php?>
